#
#------------------------ SQL TMECHANICS ----------------------------
#
SQL_INSERT_MECHANIC = INSERT INTO TMECHANICS(DNI, NAME, SURNAME) VALUES (?, ?, ?)
SQL_FIND_ALL_MECHANICS = SELECT ID, DNI, NAME, SURNAME FROM TMECHANICS
SQL_FIND_MECHANIC_BY_ID = SELECT ID, DNI, NAME, SURNAME FROM TMECHANICS WHERE ID = ?
SQL_FIND_MECHANIC_BY_DNI = SELECT ID, DNI, NAME, SURNAME FROM TMECHANICS WHERE DNI = ?
SQL_DELETE_MECHANIC = DELETE FROM TMECHANICS WHERE ID = ?
SQL_UPDATE_MECHANIC = UPDATE TMECHANICS SET NAME = ?, SURNAME = ? WHERE ID = ?
#
#------------------------ SQL TINVOICE ------------------------------
#

#
#------------------------ SQL TCERTIFICATES -------------------------
#
SQL_ALL_POSSIBLE_CERTIFICATES = SELECT M_ID, V_ID FROM (SELECT M.ID AS M_ID, SUM(C.HOURS * (D.PERCENTAGE * 0.01)) AS HOURS_P, D.VEHICLETYPE_ID AS V_ID, V.MINTRAININGHOURS AS MIN_H FROM TMECHANICS AS M JOIN TENROLLMENTS AS E ON M.ID = E.MECHANIC_ID JOIN TCOURSES AS C ON E.COURSE_ID = C.ID JOIN TDEDICATIONS AS D ON C.ID = D.COURSE_ID JOIN TVEHICLETYPES AS V ON D.VEHICLETYPE_ID = V.ID WHERE E.PASSED = TRUE GROUP BY V_ID, M_ID, MIN_H ORDER BY M_ID, V_ID) WHERE HOURS_P >= MIN_H
SQL_INSERT_CERTIFICATE = INSERT INTO TCERTIFICATES(MECHANIC_ID, VEHICLETYPE_ID, DATE) VALUES (?, ?, ?)
SQL_FIND_CERTIFICATE = SELECT ID, DATE, MECHANIC_ID, VEHICLETYPE_ID FROM TCERTIFICATES WHERE MECHANIC_ID = ? AND VEHICLETYPE_ID = ?
SQL_MECHANIC_CERTIFICATE_IN_VEHICLETYPE = SELECT C.MECHANIC_ID, WO.ID FROM TCERTIFICATES AS C JOIN TVEHICLES AS V ON V.VEHICLETYPE_ID = C.VEHICLETYPE_ID JOIN TWORKORDERS AS WO ON WO.VEHICLE_ID = V.ID WHERE WO.ID = ? AND C.MECHANIC_ID = ?
#
#------------------------ SQL TVEHICLES -----------------------------
#
SQL_FIND_VEHICLE_BY_PLATE = SELECT ID, MAKE, MODEL, PLATENUMBER, CLIENT_ID, VEHICLETYPE_ID FROM TVEHICLES WHERE PLATENUMBER = ?
#
#------------------------ SQL TWORKORDERS -----------------------------
#
SQL_INSERT_WORKORDER = INSERT INTO TWORKORDERS (VEHICLE_ID, DESCRIPTION, DATE, STATUS) VALUES (?, ?, ?, ?)
SQL_DELETE_WORKORDER = DELETE FROM TWORKORDERS WHERE ID = ?
SQL_FIND_WORKORDER_BY_ID = SELECT ID, AMOUNT, DATE, DESCRIPTION, STATUS, INVOICE_ID, MECHANIC_ID, VEHICLE_ID FROM TWORKORDERS WHERE ID = ?
SQL_UPDATE_WORKORDER = UPDATE TWORKORDERS SET DESCRIPTION = ?, STATUS = ? WHERE ID = ?
SQL_SQL_ASSIGN_MECHANIC = UPDATE TWORKORDERS SET MECHANIC_ID = ? WHERE ID = ?
